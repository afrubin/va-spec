$schema: http://json-schema.org/draft/2020-12/schema
title: CVC-MetaKB-Annotation-Definitions
type: object
strict: true

imports:
  gks.core: core-source.yaml
  vrs: vrs-source.yaml
  catvars: catvars-source.yaml

namespaces:
  gks.core: core.json#/$defs/
  catvars: catvars.json#/$defs/
  vrs: vrs.json#/$defs/

$defs:
  InformationEntity:
    inherits: gks.core:Entity
    description: >-
      InformationEntities are abstract (non-physical) entities that are about something (i.e. they carry 
      information about things in the real world).
    heritableProperties:
      type:
        type: string
      specified_by:
        oneOf:
        - $ref: "#/$defs/Method"
        - $refCurie: gks.core:IRI
        description: >-
          A :ref:`Method` that describes all or part of the process through which the information was
          generated.
      contributions:
        type: array
        ordered: true
        items:
          $ref: "#/$defs/Contribution"
      is_reported_in:
        type: array
        ordered: false
        items:
          oneOf:
          - $ref: "#/$defs/Document"
          - $refCurie: gks.core:IRI
        description: A document in which the information content is expressed.
      record_metadata:
        $refCurie: gks.core:RecordMetadata
    heritableRequired:
      - id
      - type

  Contribution:
    type: object
    inherits: gks.core:Entity
    maturity: Alpha
    description: >-
      The sum of all actions taken by a single agent in contributing to the creation, modification, 
      assessment, or deprecation of a particular entity (e.g. a Statement, EvidenceLine, DataItem, 
      Publication, etc.)
    properties:
      type:
        type: string
        const: Contribution
      contributor:
        $ref: "#/$defs/Agent"
      date:
        type: string
        format: date
      activity:
        $refCurie: gks.core:Coding
        description: >-
         SHOULD describe a concept descending from the Contributor Role Ontology.

  Agent:
    type: object
    maturity: Alpha
    inherits: gks.core:Entity
    description: >-
      An autonomous actor (person, organization, or computational agent) that bears some form
      of responsibility for an activity taking place, for the existence of an entity, or for 
      another agent’s activity.
    properties:
      type:
        type: string
        const: Agent
        default: Agent
        description: MUST be "Agent".
      name:
        type: string
      subtype:
        type: string
        enum:
          - person
          - organization
          - computer
  Method:
    type: object
    maturity: Alpha
    inherits: gks.core:Entity
    description: >-
      A set of instructions that specify how to achieve some objective (e.g. experimental protocols, 
      curation guidelines, rule sets, etc.)
    properties:
      type:
        type: string
        const: Method
        default: Method
        description: MUST be "Method".
      is_reported_in:
        oneOf:
        - $refCurie: gks.core:IRI
        - $ref: "#/$defs/Document"
      subtype:
        $refCurie: gks.core:Coding
        description: >-
          A more specific type of entity the method represents (e.g. Variant Interpretation Guideline, 
          Experimental Protocol)

  Document:
    type: object
    maturity: Alpha
    inherits: gks.core:Entity
    description: a representation of a physical or digital document
    properties:
      type:
        type: string
        const: Document
        default: Document
        description: Must be "Document"
      xrefs:
        description: >-
          An array of compact Uniform Resource Identifiers (CURIE) used to identify the document in
          other systems, such as digital object identifiers or PubMed IDs.
        type: array
        ordered: false
        items:
          $refCurie: gks.core:IRI
      title:
        type: string

  DataItem:
    inherits: InformationEntity
    maturity: Alpha
    type: object
    description: >-
      An InformationEntity representing an individual piece of data, generated/acquired through methods 
      which reliably produce truthful information about something.
    properties:
      type:
        type: string
        const: DataItem
        default: DataItem
        description: Must be "DataItem"
      subtype:
        $refCurie: gks.core:Coding
        description: >- 
          A specific type of data the DataItem object represents (e.g. a specimen count, a 
          patient weight, an allele frequency, a p-value, a confidence score)
      value:
         type: string
      unit:
        type:
          $refCurie: gks.core:Coding
    required: [ "value" ]

  Statement:
    inherits: InformationEntity
    description: >-
      A Statement (aka ‘Assertion’) represents a claim of purported truth as made by a particular agent, 
      on a particular occasion.
    heritableProperties:
      subject:
        description: The subject of the Statement.
      predicate:
        description: The predicate of the Statement.
        type: string
      object:
        description: The object of the Statement.
      qualifiers:
        type: object
        description: Properties that qualify the Statement.
      direction:
        type: string
        enum: [ "supports", "none", "refutes" ]
        description: >-
          The direction of this statement with respect to the statement predicate.
      strength:
        oneOf:
          - $refCurie: gks.core:Coding
          - $refCurie: gks.core:IRI
        description: >-
          A term indicating the overall strength of support for the Statement based on all evidence assessed.
      conclusion:
        oneOf:
          - $refCurie: gks.core:Coding
          - $refCurie: gks.core:IRI
        description: >-
          The conclusion associated with the statement.
    heritableRequired:
      - subject
      - direction

#  Proposition:
#    inherits: gks.core:ValueEntity
#    description: >-
#      An abstract :ref:`ValueEntity` representing the shareable meaning that can be
#      put forth as true or false by a Statement.
#    heritableProperties:
#      subject:
#        $ref: gks.core:ValueEntity
#        description: >-
#          The :ref:`ValueEntity` about which the Proposition is made.
#      predicate:
#        type: string
#        description: >-
#          The relationship asserted to hold between the subject and the object of the
#          Proposition.
#      object:
#        $refCurie: gks.core:ValueEntity
#        description: >-
#          A ValueEntity that is related to the subject of a Proposition via its predicate.
#    heritableRequired: [ "subject", "predicate", "object" ]
#
#  VariationProposition:
#    inherits: Proposition
#    description: A proposition describing the role of a variation subject.
#    heritableProperties:
#      subject:
#        description: >-
#          The `Variation` or `CategoricalVariation` about which the Proposition is made.
#        oneOf:
#        - $refCurie: vrs:Variation
#        - $refCurie: catvars:CategoricalVariation
#        - $refCurie: gks.core:IRI
#
#  VariationGermlinePathogenicityProposition:
#    type: object
#    inherits: VariationProposition
#    description: >-
#      A proposition describing the role of a variation in causing or preventing
#      a germline disease condition.
#    properties:
#      type:
#        type: string
#        const: VariationGermlinePathogenicityProposition
#        default: VariationGermlinePathogenicityProposition
#        description: MUST be "VariationGermlinePathogenicityProposition"
#      predicate:
#        type: string
#        description: >-
#          The relationship asserted to hold between the variation (subject) and
#          the condition (object) of the Proposition.
#        enum:
#        - causes_mendelian_condition
#        - increases_risk_for_condition
#        - decreases_risk_for_condition
#      object:
#        extends: object
#        oneOf:
#        - $refCurie: gks.core:Condition
#        - $refCurie: gks.core:Disease
#        - $refCurie: gks.core:Phenotype
#
#  VariationNeoplasmProposition:
#    inherits: VariationProposition
#    description: >-
#      A proposition regarding the effect of variation within a neoplasm.
#    heritableProperties:
#      neoplasm_type_qualifier:
#        description: >-
#          The neoplasm for which the presence of the indicated variation is relevant.
#        oneOf:
#        - $refCurie: gks.core:Condition
#        - $refCurie: gks.core:Disease
#        - $refCurie: gks.core:Phenotype
#
#  VariationNeoplasmTherapeuticResponseProposition:
#    type: object
#    inherits: VariationNeoplasmProposition
#    description: >-
#      A :ref:`Proposition` describing the role of a variation in modulating the response of a
#      neoplasm to one or more therapeutics.
#    properties:
#      object:
#        description: >-
#          The therapeutic(s) to which the neoplasm response is modulated in the presence of the
#          `subject` variation.
#        oneOf:
#        - $refCurie: gks.core:Therapeutic
#        - $refCurie: gks.core:CombinationTherapeuticCollection
#        - $refCurie: gks.core:SubstituteTherapeuticCollection
#      predicate:
#        type: string
#        description: >-
#          The relationship asserted to hold between the variation (subject) and
#          the therapeutic (object) of the Proposition.
#        enum:
#          - predicts_sensitivity_to
#          - predicts_resistance_to
