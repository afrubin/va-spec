$schema: http://json-schema.org/draft/2020-12/schema
title: Variant-Classification-Definitions
type: object
strict: true

imports:
  gks.core: core-source.yaml
  vrs: vrs-source.yaml
  catvars: catvars-source.yaml
  annot: annotation-source.yaml

namespaces:
  gks.core: core.json#/$defs/
  catvars: catvars.json#/$defs/
  vrs: vrs.json#/$defs/
  annot: annotation.json#/$defs/

$defs:
  VariantClassification:
    inherits: annot:Statement
    description: >-
      A :ref:`Statement` describing the impact of a variant.
    heritableProperties:
      variant:
        extends: subject
        oneOf:
          - $refCurie: vrs:Variation
          - $refCurie: catvars:CategoricalVariation
          - $refCurie: gks.core:IRI
        description: A variation object that is the subject of the Statement.
      classification:
        extends: conclusion
        description: >-
          A methodological, summary classification about the impact of a variant.
    heritableRequired:
      - classification

  VariantPathogenicity:
    type: object
    maturity: Alpha
    inherits: VariantClassification
    description: >-
      A :ref:`VariantClassification` describing the role of a variant in causing an 
      inherited disorder.
    properties:
      type:
        type: string
        const: "VariantPathogenicity"
        default: "VariantPathogenicity"
        description: >-
          MUST be "VariantPathogenicity".
      predicate:
        extends: predicate
        const: isCausalFor
      condition:
        extends: object
        oneOf:
          - $refCurie: gks.core:Condition
          - $refCurie: gks.core:IRI
        description: >-
          The :ref:`Condition` for which the variant impact is stated.
      qualifiers:
        extends: qualifiers
        type: object
        properties:
          penetrance:
            type: string
            enum:
              - high
              - low
              - risk allele
            description: >-
              The extent to which the variant impact is expressed by individuals carrying it as
              a measure of the proportion of carriers exhibiting the condition.
          modeOfInheritance:
            type: string
            enum:
              - autosomal dominant
              - autosomal recessive
              - X-linked dominant
              - X-linked recessive
              - mitochondrial
            description: >-
              The pattern of inheritance expected for the pathogenic effect of this variant.

    required:
      - condition

  VariantOncogenicity:
    type: object
    inherits: VariantClassification
    maturity: Alpha
    description: >-
      A statement regarding the effect of variation on oncogenesis of a tumor type.
    properties:
      type:
        type: string
        const: "VariantOncogenicity"
        default: "VariantOncogenicity"
        description: >-
          MUST be "VariantPathogenicity".
      predicate:
        extends: predicate
        enum:
          - isOncogenicFor
          - isProtectiveFor
          - isPredisposingFor
      tumorType:
        extends: object
        oneOf:
          - $refCurie: gks.core:Condition
          - $refCurie: gks.core:IRI
        description: >-
          The tumor type for which the variant impact is evaluated.
      qualifiers:
        extends: qualifiers
        type: object
        properties:
          alleleOrigin:
            type: string
            description: >-
              Whether the statement should be interpreted in the context of an inherited 
              (germline) variant, an acquired (somatic) mutation, or both (combined).
            enum:
              - germline
              - somatic
              - combined
          allelePrevalence:
            type: string
            description: >-
              Whether the statement should be interpreted in the context of the variant
              being rare or common.
            enum:
              - rare
              - common
    required:
      - tumorType
      - predicate

  VariantTherapeuticResponsePredictive:
    type: object
    maturity: Alpha
    inherits: VariantClassification
    description: >-
      A :ref:`Statement` describing the role of a variation in modulating the response of a
      neoplasm to drug administration or other therapeutic procedure.
    properties:
      type:
        type: string
        const: "VariantTherapeuticResponsePredictive"
        default: "VariantTherapeuticResponsePredictive"
        description: >-
          MUST be "VariantTherapeuticResponsePredictive".
      predicate:
        extends: predicate
        enum:
          - predicts_sensitivity_to
          - predicts_resistance_to
      therapeuticProcedure:
        extends: object
        oneOf:
          - $refCurie: gks.core:therapeuticProcedure
          - $refCurie: gks.core:IRI
      tumorType:
        oneOf:
          - $refCurie: gks.core:Condition
          - $refCurie: gks.core:IRI
        description: >-
          The tumor type context in which the variant impact is evaluated.
      qualifiers:
        extends: qualifiers
        type: object
        properties:
          alleleOrigin:
            type: string
            description: >-
              Whether the statement should be interpreted in the context of an inherited 
              (germline) variant, an acquired (somatic) mutation, or both (combined).
            enum:
              - germline
              - somatic
              - combined
          allelePrevalence:
            type: string
            description: >-
              Whether the statement should be interpreted in the context of the variant
              being rare or common.
            enum:
              - rare
              - common
    required:
      - tumorType
      - predicate
      - therapeutic